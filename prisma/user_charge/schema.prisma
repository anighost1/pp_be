generator client {
  provider = "prisma-client-js"
  output   = "../../generated/user_charge"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_USER_CHARGE")
}

model user_charge_data {
  id                     BigInt             @id @default(autoincrement())
  mc_name                String?
  pid_type               String?
  property_id            String?
  owner_name             String?
  integrated_property_id String?
  integrated_owner_name  String?
  latitude               Float?
  longitude              Float?
  authority              String?
  colony                 String?
  address                String?
  mobile                 String?
  category               String?
  type                   String?
  sub_type               String?
  area                   Float?
  unit                   String?
  authorized_area        String?
  property_image         String?
  bill_sequence          Float?
  is_selfcertified       String?
  is_tagged              Boolean            @default(false)
  survey_master          survey_master[]
  waste_collection       waste_collection[]
}

model survey_master {
  id               BigInt           @id @default(autoincrement())
  user_id          Int?
  user_charge_id   BigInt
  entry_ip         String?
  created_at       DateTime         @default(now())
  updated_at       DateTime         @default(now()) @updatedAt
  doc_path         String[]
  recstatus        Int              @default(1)
  remark           String?
  latitude         Float?
  longitude        Float?
  user_charge_data user_charge_data @relation(fields: [user_charge_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "user_charge_survey")
}

model waste_collection {
  id               BigInt           @id @default(autoincrement())
  user_id          Int
  user_charge_id   BigInt
  entry_ip         String?
  remark           String?
  latitude         Float?
  longitude        Float?
  recstatus        Int              @default(1)
  created_at       DateTime         @default(now())
  updated_at       DateTime         @default(now()) @updatedAt
  user_charge_data user_charge_data @relation(fields: [user_charge_id], references: [id])
}

model grievance {
  id         BigInt   @id @default(autoincrement())
  user_id    Int
  mobile     String
  email      String?
  remark     String
  entry_ip   String?
  recstatus  Int      @default(1)
  created_at DateTime @default(now())
  updated_at DateTime @default(now()) @updatedAt
}

model vehicle_type {
  id                   Int                    @id @default(autoincrement())
  name                 String
  recstatus            Int                    @default(1)
  created_at           DateTime               @default(now())
  updated_at           DateTime               @default(now()) @updatedAt
  on_demand_collection on_demand_collection[]
}

model on_demand_collection {
  id              Int          @id @default(autoincrement())
  user_id         Int
  vehicle_type_id Int
  mobile          String
  address         String
  email           String?
  remark          String?
  entry_ip        String?
  recstatus       Int          @default(1)
  created_at      DateTime     @default(now())
  updated_at      DateTime     @default(now()) @updatedAt
  vehicle_type    vehicle_type @relation(fields: [vehicle_type_id], references: [id])
}
